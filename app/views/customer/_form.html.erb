<%= form_for (@customer), :url => { :action => :create } do |f| %>
  <% if @customer.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@customer.errors.count, "error") %> prohibited this customer from being saved:</h2>

      <ul>
      <% @customer.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

<table border="1px" cellspacing="0px" cellpadding="0px">
	<tr>
		<td align="center" width="10%"><%= f.label :客户编号 %></td>
		<td width="20%"><%= f.text_field :cid, size: 20 %></td>
		<td align="center" width="20%"> <%= f.label :姓名 %></td>
		<td width="20%"><%= f.text_field :name, size: 30 %></td>
		<td align="center" width="10%"><%= f.label :身份证号 %></td>
		<td width="20%"><%= f.text_field :id_number , size: 30 %></td>
	</tr>
	<tr>
    	<td align="center"><%= f.label :生日 %></td>
    	<td><%= f.text_field :birthday, size: 30 %></td>
    	<td align="center"><%= f.label :性别 %></td>
    	<td><%= f.text_field :gender, size: 30 %></td>
    	<td align="center"><%= f.label :婚姻 %></td>
		<td><%= radio_button :customer,:marriage,:already %>已婚<br>
			<%= radio_button :customer, :marriage, :no %>未婚</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :联系电话 %></td>
		<td colspan="3"><%= f.text_field :phone, size: 50 %></td>
		<td align="center"><%= f.label :民族 %></td>
		<td><%= f.text_field :sub_nationality , size: 10 %></td>
	</tr>
	
	<tr>
    	<td align="center"><%= f.label :医师 %></td>
    	<td colspan="2">
    		<%= select 'customer',:doctor_id, Doctor.get_all_doctor.collect {|d| [ d.name, d.did ] } %>  
    	</td>
    	<td align="center"><%= f.label :护士 %></td>
    	<td colspan="2">
    		<%= select 'customer',:nurse_id, Nurse.get_all_nurse.collect {|n| [ n.name, n.nid ] } %> 
    	</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :联系地址%></td>
		<td colspan="3"><%= f.text_field :address, size: 40 %></td>
		<td align="center"><%= f.label :籍贯 %></td>
		<td><%= f.text_field :address %></td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :疗程内容 %></td>
		<td colspan="5"><%= f.text_area :nurse_id ,rows: 4, cols: 60%></td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :职业 %></td>
		<td colspan="5">
			<%= f.check_box :occupation, { :multiple => true },'1'  %>金融业
			<%= f.check_box :occupation, { :multiple => true },'2'  %>信息业
			<%= f.check_box :occupation, { :multiple => true },'3' %>军公教
			<%= f.check_box :occupation, { :multiple => true },'4'  %>传播媒体
			<%= f.check_box :occupation, { :multiple => true },'5'  %>服务业
			<%= f.check_box :occupation, { :multiple => true },'6'  %>医疗
			<%= f.check_box :occupation, { :multiple => true },'7'  %>家管
			<%= f.check_box :occupation, { :multiple => true },'8'  %>其他
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :到店渠道 %></td>
		<td colspan="5">
			<%= f.check_box :to_store_channel, { :multiple => true } , "1" %>招牌
			<%= f.check_box :to_store_channel, { :multiple => true } , "2" %>网络
			<%= f.check_box :to_store_channel, { :multiple => true } , "3" %>杂志
			<%= f.check_box :to_store_channel, { :multiple => true } , "4" %>路过
			<%= f.check_box :to_store_channel, { :multiple => true } , "5" %>亲友介绍
			<%= f.check_box :to_store_channel, { :multiple => true } , "6" %>其他
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :特殊病史 %></td>
		<td colspan="5">
			<%= f.check_box :special_history, { :multiple => true } , "1" %>糖尿病
			<%= f.check_box :special_history, { :multiple => true } , "2" %>高血压
			<%= f.check_box :special_history, { :multiple => true } , "3" %>心脏病(包括装置心脏节律器)
			<%= f.check_box :special_history, { :multiple => true } , "4" %>气喘或呼吸道疾病
			<br>
			<%= f.check_box :special_history, { :multiple => true } , "5" %>免疫系统疾病
			<%= f.check_box :special_history, { :multiple => true } , "6" %>蟹足肿
			<%= f.check_box :special_history, { :multiple => true } , "7" %>甲状腺低下
			<%= f.check_box :special_history, { :multiple => true } , "8" %>亢进
			<%= f.check_box :special_history, { :multiple => true } , "9" %>肾脏病
			<%= f.check_box :special_history, { :multiple => true } , "10" %>B型肝炎
			<br>
			<%= f.check_box :special_history, { :multiple => true } , "11" %>C型肝炎
			<%= f.check_box :special_history, { :multiple => true } , "12" %>贫血(或血红素低下病史)
			<%= f.check_box :special_history, { :multiple => true } , "13" %>其他
			<%= f.check_box :special_history, { :multiple => true } , "14" %>无
			<br>
			<%= f.label :是否怀孕 %>
			<%= radio_button :pregnant,:pregnant, :no %>无
			<%= radio_button :pregnant,:pregnant, :yes %>有
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :血型 %></td>
		<td colspan="5">
			<%= f.check_box :blood_type, { :multiple => true } , "1" %>A
			<%= f.check_box :blood_type, { :multiple => true } , "2" %>B
			<%= f.check_box :blood_type, { :multiple => true } , "3" %>AB
			<%= f.check_box :blood_type, { :multiple => true } , "4" %>O
			<%= f.check_box :blood_type, { :multiple => true } , "5" %>未知
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :手术史 %></td>
		<td colspan="5">
			<%= f.text_area :operation_history ,rows: 4, cols: 60%>
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :服药史 %></td>
		<td colspan="5">
			<%= f.label :是否对药物过敏：%>&nbsp;&nbsp;&nbsp;
			<%= f.text_field :drug_allergy, size: 30  %>
			<br><br>
			<%= f.label :目前是否使用药物：%>
			<%= f.text_field :medicine, size: 30  %>
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :美容史 %></td>
		<td colspan="5">
			<%= f.label :美疗类： %>
			<%= f.check_box :beauty_therapy, { :multiple => true } , "1" %>果酸换肤
			<%= f.check_box :beauty_therapy, { :multiple => true } , "2" %>美白导入
			<%= f.check_box :beauty_therapy, { :multiple => true } , "3" %>钻石微雕
			<%= f.check_box :beauty_therapy, { :multiple => true } , "4" %>其他
			<%= text_field :beauty_therapy_text, size: 30  %>
			<br>
			<%= f.label :光疗类： %>
			<%= f.check_box :phototherapy, { :multiple => true } , "1" %>脉冲光
			<%= f.check_box :phototherapy, { :multiple => true } , "2" %>雷射
			<%= f.check_box :phototherapy, { :multiple => true } , "3" %>电波拉提
			<%= f.check_box :phototherapy, { :multiple => true } , "4" %>其他
			<%= text_field :phototherapy_text, size: 30  %>
			<br>
			<%= f.label :注射类： %>
			<%= f.check_box :hyaluronic_acid, { :multiple => true } , "1" %>玻尿酸，部位
			<%= text_field :hyaluronic_acid_text, size: 30  %>
			<%= f.check_box :microcrystalline_porcelain, { :multiple => true } , "1" %>微晶瓷，部位
			<%= text_field :microcrystalline_porcelain_text, size: 30  %>
			<br><br>
			<%= f.check_box :other_parts, { :multiple => true } , "1" %>其他，部位
			<%= text_field :other_parts_text, size: 30  %>
			<br><br>
			<%= f.check_box :plastic_part, { :multiple => true } , "1" %>整形手术：部位
			<%= text_field :plastic_part_text, size: 30  %>
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :治疗需求 %></td>
		<td colspan="5">
			<%= f.label :肤质： %>
			<%= f.check_box :skin, { :multiple => true } , "1" %>过敏
			<%= f.check_box :skin, { :multiple => true } , "2" %>脱皮
			<%= f.check_box :skin, { :multiple => true } , "3" %>湿疹
			<%= f.check_box :skin, { :multiple => true } , "4" %>其他：<%= text_field :skin_text, size: 30  %>
			<br>
			<%= f.label :皱纹： %>
			<%= f.check_box :wrinkle, { :multiple => true } , "1" %>细纹
			<%= f.check_box :wrinkle, { :multiple => true } , "2" %>皮肤松弛
			<%= f.check_box :wrinkle, { :multiple => true } , "3" %>其他：<%= text_field :wrinkle_text, size: 30  %>
			<br>
			<%= f.label :血管： %>
			<%= f.check_box :blood_vessel, { :multiple => true } , "1" %>泛起
			<%= f.check_box :blood_vessel, { :multiple => true } , "2" %>血丝明显
			<%= f.check_box :blood_vessel, { :multiple => true } , "3" %>其他：<%= text_field :blood_vessel_text, size: 30  %>
			<br>
			<%= f.label :毛孔： %>
			<%= f.check_box :pore, { :multiple => true } , "1" %>粗大
			<%= f.check_box :pore, { :multiple => true } , "2" %>青春痘
			<%= f.check_box :pore, { :multiple => true } , "3" %>暗疮
			<%= f.check_box :pore, { :multiple => true } , "4" %>其他：<%= text_field :pore_text, size: 30  %>
			<br>
			<%= f.label :色素： %>
			<%= f.check_box :pigment, { :multiple => true } , "1" %>黑斑
			<%= f.check_box :pigment, { :multiple => true } , "2" %>肤色暗沉
			<%= f.check_box :pigment, { :multiple => true } , "3" %>黑眼圈
			<%= f.check_box :pigment, { :multiple => true } , "4" %>痘疤
			<%= f.check_box :pigment, { :multiple => true } , "4" %>其他：<%= text_field :pigment_text, size: 30  %>
			<br>
			<%= f.label :体型： %>
			<%= f.check_box :figure, { :multiple => true } , "1" %>胸部
			<%= f.check_box :figure, { :multiple => true } , "2" %>腹部
			<%= f.check_box :figure, { :multiple => true } , "3" %>臀部
			<%= f.check_box :figure, { :multiple => true } , "4" %>腿部
			<%= f.check_box :figure, { :multiple => true } , "5" %>手臂
			<%= f.check_box :figure, { :multiple => true } , "6" %>其他：<%= text_field :figure_text, size: 30  %>
		</td>
	</tr>
	
	<tr>
		<td align="center"><%= f.label :其他 %></td>
		<td colspan="5"><%= f.text_area :other_info ,rows: 4, cols: 60%></td>
	</tr>
	
	<tr>
		<td><%= f.label :疗程前后照片对比 %></td>
		<td colspan="3"><%= f.label :疗程前 %>
		<br>
		</td>
		<td colspan="2"><%= f.label :疗程后 %>
		<br>
		</td>
	</tr>
	
</table>
<br>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
